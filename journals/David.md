# Journaling

## Guidelines
* The date of the entry
* A list of features/issues that you worked on and who you worked with, if applicable.
* A reflection on any design conversations that you had
* At least one ah-ha! moment that you had during your coding, however small. 


## Wednesday, June 22nd, 2022
* Today I worked on the ShowReview.js file, which involved having a list of clickable reviews for skewered eateries, where when a user clicked on the name of the eatery, the review they left for it would appear to the right. I had some issues building the ReviewDetails component in the ReviewDetails.js file, so Ariana and I teamed up on implementing that. We were successfully able to get the name of the skewered eatery, review title, review rating, review description, and the image from the image url to show up! 
* Ariana, Brandon, Jeff, and I were having issues extracting the username from a JWT token in the Foodies microservice. We used an npm package called jose, to help us decrypt the secret key and the token that the user received when they logged into the page. We needed the username associated with this token, so that we could then plug it into the request URL to receive all of the skewered eateries for a specific foodie, and only the foodie that was currently logged in. 
* Ariana and I also worked on the back-end some more in the views.py file for the Foodies microservice. We re-factored some endpoints now that we had the username associated with the token, and could pass in that username into those endpoints. 
* Ariana, Brandon, and I noticed that the foodie/user would lose their data when they did a browser reload. With some help from Curtis, we were able to modify the User's urls.py file with a new endpoint called api_get_current_user in addition to modifying the api_get_current_user function view. We also changed the repository named from restaurant-repo to eatinerary! 
* Worked with Cameron on getting the has_visited button to remove the skewered_eatery from the MySkeweredList, which would then send it to MySkeweredHistory since the foodie has already been there. 
* A cool little a-ha! moment for today was when Ariana showed me how to dynamically resize images in the react component, rather than trying to re-size them via CSS or alternate method. Although this a-ha! moment is very basic, I thought it would come in handy in the future! 


## Tuesday, June 21st, 2022
* Today I worked on the MySkeweredList.js file. I built out the table where all of the skewered_eateries would be shown, included the eatery name, average rating, price, and any notes the foodie left. I also implemented the side navigation bar to where the foodie could get to their MySkeweredList, MySkeweredHistory, Reviews, and Create Reviews pages. The toughest part of building the MySkeweredList page is incorporating the Google Maps feature. 
* I was able to do some research and use the Google Developers Console to utilize the Maps Embed API. This API used iFrame, which is an interactive frame that gets embedded to your webpage and allows you to have the functionality of your website while also having the functionality of Google Maps. After getting my API key and npm installing react-iframe, I was able to build out the Google Maps.JS file and pass in a custom URL to iframe which would search maps for a skewered eatery's name, city, state, latitude, and longitude. After realizing we could not use multiple pinpoints on an embedded map, a quick solution was to show the map marker for an eatery that was clicked on in the table. With help from Curtis, he was able to show me how to implement this by making a selectEatery function that would hit whenever the table row with the eatery was clicked, and show the information of the skewered eatery.
* Built out the MySkeweredHistory.js page, where you could click on a past skewered_eatery you already visited and see the location and details of the eatery on the embedded Google Maps. 
* I also added in some rough styling to SkeweredHistory, SkeweredList, Create Review Form to mock it up like the wireframes and also for readability purposes. 
* Worked on the create a review form, for leaving a review for a skewered eatery. I ran into some minor issues getting the form to submit properly. We also decided on relocating the "Create a review" form to a separate page, and implementing the details of a review onto another page. 
* Later that night, I worked with Brandon on trying to get all skewered eateries for a specific foodie. We came to a stopping point when we realized we needed help handling the user's token, to possibly get the username out of it and populate the SkeweredList based on that information. 
* My a-ha! moment today was cementing my knowledge in passing in values for "this.props.name" in a component and then in the other JS file, pass in the values you need when you're implementing something like a for-loop over an array of objects. 


## Monday, June 20th, 2022
* Today I worked on the MySkeweredList feature, where a foodie's skewered eateries all list in one spot. We also modified this page to replace Google Calendar with Special Dates, where a foodie can add a special date, with an occassion to help remind them of upcoming dates so they can book a reservation somewhere for the occasion. I built out the table for both of these features, but ran into an issue getting the eatery_price and eatery_average_rating to appear in the table. I realized that the get_extra_Data method for skewered eateries needed to be modified to include these. 
* Started working on the Review form logic. Wrote code for form submissions for foodie reviews. 
* My a-ha! moment was remembering how class based components worked since I hadn't done them in a little bit and getting the forms to reset properly after clicking submit. 


## Sunday, June 19th, 2022
* I had a hard time today trying to figure out the logic behind getting a list of skewered eateries for a foodie. Currently, with how our back-end is setup, there is no way to get all of the skewered restaurants for a specific foodie, because I don’t know who is currently logged in/who the foodie is. The table is populating ALL skewered restaurants, no matter the foodie. I decided to keep thinking about it and come back to this if I have any ideas. 
* Since the back-end for the Special Dates feature was now implemented, I went into the MySkeweredList.js file and added in the Special Dates table that shows the occasion, date, and has passed headings at the top of the table, with the populated data below it. I did some rough styling to make it look like our wireframe. 
* I went into CreateReview.js and got to work on the logic behind it. When a foodie clicks on a skewered restaurant in their list and the skewered restaurant has NO reviews, then a “Create a Review” form should appear. If there is a review, then the detail view of that review should show up. I got most of the form submission logic worked on, and the pseudocode for switching between the 2 views of the form (detail and create). 
* My a-ha! moment today was going back to some older code I had written to see how form submission worked via async handleSubmit functions. I’m certain my next a-ha moment will be discovering how to transition between the create a form and review detail window depending on which eatery a user clicks on that has a review. 

## Saturday, June 18th, 2022
* I continued on MySkeweredList today. I had a discussion about including the Google Calendar into our project. After some research, it seemed that in order to embed a user’s calendar on our website, they would have to set the permissions for their calendar to “public”. I didn’t see this being a viable solution, as many users probably do not want their calendars to have that kind of access. However, on the occasion that they are comfortable, the user would then have to complete a series of steps on their end in their Google Calendar, such as Going into the settings, finding the calendar they want to make public, find the code to “integrate calendar”, then copy that code and paste it into the designated input of our website. I also thought this would turn users away. There were a few more options that were available, but they did not seem logical for our purposes nor for time purposes. 
* The group came to a decision to replace the Google Calendar feature with a “Special Dates” section, from an idea presented by Ariana. The user could fill out a form through our website providing the occasion date and reason. When they click “submit”, the occasion would then be populated into the “Special Dates” section on the MySkeweredList page. Ariana set-up the models and views for this feature. While I waited for that, I got started on MySkeweredHistory, where it would populate the table with a foodie’s skewered eateries that they have already visited. I also got the basic layout of the CreateReview/DetailReview page set up. 
* My a-ha! moment today was that while working with the GET request for “Get all skewered eateries”, any skewerejeateries that the foodie updates, will be appended to the bottom of the return JSON of that request in Insomnia. While i was testing, I thought there was a bug in our code, but then quickly realized that after you run the PUT/update request, that skewered eatery is then appended to the list of skewered eateries. 


## Friday, June 17th, 2022
* Today I started working on the front-end side of the Foodies microservice. I began working on the MySkeweredList file, which is responsible for getting all of the eateries that a foodie has skewered. Coming to the front-end after working on the back-end for a while, definitely was challenging. It was a while since I had done any React stuff, so I resorted to old projects to help give myself a refresh of how things worked together. I also had some help from Cameron in getting the file set-up in the Nav.js and the App.js files. After I worked for a while, things started clicking again and I felt more confident. 
* I noticed that when we were trying to incorporate elements from Bootstrap that they weren’t appearing. I asked my team if they had it installed into our project, to which they said it was included in the package.json file. However, I remembered from older projects that the Bootstrap link needed to be included in the index.html file inside the public directory. After i included this link, all of the Bootstrap components worked! 
* My a-ha moment/tough thing I encountered was working with grid/layout aspects of the page. I was trying to do a rough mock up of our wireframe without wasting too much time. After a few failed attempts, I did some quick research and saw that the “trinity”/key to Bootstrap is to always use container-> row-> column to have your layout work properly. After I incorporated this, I was able to roughly maneuver divs, containers, etc. around where i temporarily wanted them.

## Thursday, June 16th, 2022
* Today I worked more on the back-end of Foodies with Ariana. We went through the views.py file to correct any of the 400 statuses to be 404, as needed. We also were able to get the “get a specific eateryvo instance” function view working, which allows a foodie to see the details of a specific eatery. We also went through the function view names to be more reflective of what their functionality is and to condense their names down. We also followed this for the urls.py file, since it was getting heavily populate with request names. We modified the request endpoint and function names in accordance to what they were labeled as in the views.py file.  
* Another feature we fixed was the tags creation. When a foodie would create a tag, there was no association with it to an eatery. However, we discussed that the foodie could create a tag and on the front-end, we would be sure to create the tag association with the eatery that the foodie is adding the tag to. 
* The group also discussed implementation of Google Maps API, where would need to get the API key and that we would be implementing it on the front-end, via longitude/latitude of a skewered restaurant in addition to a user’s location. Final topic of discussion was creating an Insomnia master file, so that everyone has the same endpoints! 
* My a-ha! moment for today was finally becoming more comfortable, even proficient, when it comes to the back-end. After doing so much back-end work, I’ve been able to connect the dots in a more clear way in my head than I had previously, which is exciting. 

## Wednesday, June 15th, 2022
* Worked with Ariana on the Foodies microservice views. Realized that while we had all the views for reviews, skewered eateries, etc. working, we did not have them working/have them associated for a specific foodie. We realized that we needed to incorporate the EateryVO into the Review model, which meant re-running migrations, deleting the volume, starting our services back up, and populating new data. The relationship is that 1 EateryVO can have many reviews, but 1 review only relates to one EateryVO. We linked EateryVO in the Review model by adding an “eatery_vo” attribute, using a ForeignKey relationship to EateryVO model. 
* Since we updated the model, we could then get all the reviews for one eatery!! 
* We also made sure that when a Foodie skewered an eatery, that the “is_active” field changes to True. 
* We also went through and changed the attribute names on the model from eatery to eatery_vo to be more consistent and clear moving forward. We also update other variable names to reflect this as well. 
* We also made notes to be sure to condense our urls.py file since it’s getting filled up with a lot of api endpoints. We realized we could condense the requests in the views.py file and associated the same view function name with different endpoints, by utilizing if / else statements much more logically. When we did this, we were able to implement views for “getting a review based on the skewered eatery” and “get all reviews for a single eatery” much more efficiently. 

## Tuesday, June 14th, 2022
* Group got together to discuss dividing and conquering our application. We wanted to start working on front-end items to have them deliverable by the dead-line. 
* Worked solo that evening on the following views:
    * ReviewImage (DELETE, GET (DETAILS), GET, POST)
    * Review (DELETE, UPDATE, GET(DETAILS)
    * EateryCategoryVO (GET ALL, GET (DETAILS)
    * Worked with Ariana on: EateryTagVO(get specific tag vo info)
    * Modified urls.py, changed myReviews/ to reviews/
* Had an issue with migrations. Seems like Git took charge and decided which migrations to keep and delete when we did a merge from our branches to main. Had to go and delete migrations and the docker volume, recreate the volume, run migrations, re-enter new data to test request endpoints, and get things up and running. 
* A-ha! realizing that the tag_name for EateryTagVO was unique and we didn’t need to extract the id value from the import_href, same thing with the EateryCategoryVO, alias is also unique. Realized that we will need to correct the way a Foodie enters information for a category title. It should store a 2 part string such as “ice cream” as all lowercase with no spaces, so that it will populate the request endpoint correctly. 

## Monday, June 13th, 2022
* Cameron and I worked together on the finished the GET and POST requests for the Reviews. We ran into an issue getting the “id” and “review_image” properties in our ReviewImageEncoder to work. To get the “id” to work, we had to remove the pk from the skewered_restaurant attribute of our Review model. It was trying to use this instead of the id like we were intending to. After removing the pk, the “id” finally worked in the GET request. We still had trouble getting review_images to work and will need to figure out a way to make this happen. When we were trying to make our POST request in Insomnia, I had forgotten that I already made a Review in the Foodies Django admin, so when I tried to create a review for a specific skewered restaurant, it errored out with “Id already taken for skewered_restaurant”. Realizing that skewered_restaurant is a OneToOneField and looking back on our README, we realized that we initially said we would only allow a foodie to create ONE review for a restaurant, not multiple. I deleted the previously made Review in the admin, made the POST request in Insomnia, and it worked. 
* My big a-ha moment was remembering how our model fields and relationships worked together, and using the documentation we created to help us remember why we chose certain paths to take when building this application. 

## Friday, June 10th, 2022
* Cameron and I continued working on the api_views.py file in the Foodies microservice for Deleting and Updating a skewered eatery. We were successful in Deleting a skewered_eatery from a foodie’s list, however, we realized we were deleting it from the database, which is not what we intended. We realized we had an “is_active” field on our model for Skewered_Eatery, so that when the foodie does delete it from their skewered_eatery list, it would change the status of “is_active” from true to false. We fixed this by filtering the SkeweredEatery by it’s id, then updating the property to false. 
* Another issue we ran into was trying to work with the skewered_restaurant attribute in Review, which had primary_key set to true? it gave us trouble because it was using the primary key of skewered restaurant as pk, when we wanted the id of the review. Needed to remove the primary_key setting from skewered_restaurant.
* The a-ha moment was realizing we needed to remove the primary_key from the skewered_restaurant attribute in the Review model, so that when we made the request, it would use the id of review, and NOT the pk of skewered_restaurant. 

## Thursday, June 9th, 2022
* Today the group reconvened and we worked on finishing up the poller.py file inside the Foodies microservice that polls data from the Eateries microservice. After we got to a good stopping point, the group broke off and pair-programmed where I teamed up with Cameron.
* Cameron and I worked on getting more of the function views done in the views.py file in the Foodies microservice. We were able to create, retrieve, update, and delete skewered restaurants that the foodie uses. We got a little stuck when it came to the creating of a skewered restaurant. We were not sure how to call the eatery object, until Ariana came by and helped us realize that we could just grab the eatery object by it’s href that we associated it with earlier. 
* I added in some more view functions for the Reviews model, but still needed to dial them in. Basic view functions such as list all reviews, create a review, get details of a single review, update a review. 
*  think today’s a-ha moment for me was when we were working on the poller file and I learned that we could “flatten” the data from EateryLocation into the EateryVO model and we didn’t have to make a special VO model for EateryLocation, which would have caused a lot more work. 

## Wednesday, June 8th, 2022
* Brandon and Ariana: close to being done with eateries microservice minus the Yelp stuff. They now have tag as part of the Eatery object the same way category is. No POST for category, added POST. Get and Post for tags, open_hours, as well as the specific open_hours_singular, and the images views up and running. That’s all of the models covered in the Eatery side. Basically just added more views yesterday. 
* Cameron and I worked on building out the models, views, encoders, urls, in Foodies microservice. Fixed a couple of settings in the Docker-compose yaml file to get the Poller file working. We discussed how our models would need to be configured when polling data from the Eateries microservice. 
* Still having a-ha! moments with Docker and learning about when to re-start our containers depending on what files we change and modify, what volumes to delete, and when to rebuild images. 

## Tuesday, June 7th, 2022 
* Today I worked with Cameron, ran into a migrations issue for our users-api container in Docker. It was not getting the DJWTO_SIGNING_KEY environment variable which was needed although it was in our docker-compose.yaml file. We ran the following command: docker run -it -v "$(pwd)/users/api:/app" -w "/app" -e "DJWTO_SIGNING_KEY=qwerty" restaurant-repo_users-api bash. This let us assign a value to the signing key to help us bypass that error, then re-ran our python manage.py makemigrations inside the container, which finally allowed us to apply migrations. Afterwards, we exited the container and brought up the services again, which got our users-api_1 container running, so that we could use the localhost:8070 port it was running on to use the Django admin to test out our views for the Users microservice. We were able to get API endpoints to function in Insomnia for getting all users, creating a user, and getting the details of a single user. 
* I feel like my breakthrough moment today was learning a little more about how Docker works, and learning new commands that allow you to override the containers. 

## Monday, June 6th, 2022
* The group worked on the Eateries microservice, specifically the api_eateries view function. We were having an issue trying to serialize a model that was using a ManyToMany relationship and resulted in us getting a TypeError for “ManyRelatedManager”. We each tried to implement many different solutions, but ultimately the ModelEncoder needed to be updated to handle the objects associated with ManyRelatedManager. 
* I moved the Dockerfile.dev, requirements.txt into the poll directory where I created a poller.py file for the Foodies microservice to poll from the Eateries microservice for the necessary data. I also coded the rough draft of our EateryVO model based on what was in our data-model.md file we all worked on. 
* My a-ha moment pertains to this day, but wasn’t really spawned on this day, when Ariana showed us that by modifying the ModelEncoder, we could then handle the objects of type ManyRelatedManager error we were getting on this day.

## Friday, June 3, 2022
* * As a group we worked on creating the docker-compose.yaml file. We ran into issues with the create-multiple-databases.sh file, since it was only set as a read/write file and not “executable” in the file system. We only identified this issue after not being able to get our PostgreSQL database container running in Docker. After running a specific command in the terminal, we could see that the file only had “rw” (r = read, w = write). It needed to be set as rwx, (read, write, and x = executable). This is an attribute of the filesystem, not the file itself. The command we ran in the terminal was ls -al db to see what the files are readable, writeable, executable, etc. In order to change the file from read/write only to include executable, we ran the command “chmod a+x db/create-multiple-databases.sh”. 

## Thursday, June 2, 2022
* The group broke off into twos for pair-programming, Brandon and Ariana paired up to write the Owners microservices side of things, while Cameron and I teamed up to take on the Foodies microservice. We wrote the models for the Foodies microservice and tested it out by creating a superuser and using the Django admin to test it out.  We also wrote a couple of basic functions and a Foodie Encoder in the views file, so that we could use Insomnia to test out our API requests and see what output we were getting. Near the end of the day, the group reconvened and when it came time to commit my work, Brandon and Ariana informed me that I needed to delete all of the pyc files because we never included it in the gitignore file. Understanding that while it’s ok to have extra files called out in the gitignore file, it’s not okay to have extra files committed to gitlab. 

## Wednesday, June 1, 2022
* Our group discussed that restaurant and restaurantVO should be a strict many-to-one relationship. The skewered restaurant will be many and restaurantVO will be one. We also discussed that the skewered_restaurant model will represent one single skewered restaurant. This helps clear things up in our BoundedContexts drawing. 

* Our group worked together getting the docker-compose.yaml file working. We were each able to provide solutions for any errors we ran into which helped give a smooth workflow. We did have an issue where the database was having an issue accessing all of the individual containers. This was because the create-multiple-databases.sh file was not executable, so we finally worked through that and resulted in getting all of our Docker containers up and running. Realizing that we needed to change the mode of the create-multiple-databases file to make sure it was executable was a big moment for me. That file was initially only a read/write file. This helps clear up any issues in the future for any database work I may do. 

## Tuesday, May 31, 2022
* Today, the group got together and we identified bounded contexts within our application. Initially, it seemed very daunting, but breaking down the models and grouping them into their respective microservices, really helped give a sense of foundation and structure before we even began coding. We also identified our value objects and the relationships between the models, i.e.: one-to-many, many-to-many, etc. 

* Things really clicked for me when we were able to identify what it was that we wanted inside each of our microservices and realizing what the value objects were. 


## Friday, May 27, 2022
* Ariana, Brandon, Cameron, and I worked together to figure out the API endpoints needed and we also went through the apis.md file to decide on the input and output for the individual API endpoints. 

* During our discussion, it was difficult to pinpoint what input was needed for each endpoint and what the output would be as well. Specifically, remembering whether or not the output would have an object returned inside of the JSON, like "restaurant" would return only
a single value or an entire restaurant object. 

* Being able to have a visualization of the layout of our application by creating wireframes and also documenting it in the ghi.md file helped me
gain a better understanding of the functionality of our application and how to make things efficient from the user's standpoint. 

